#!/usr/bin/env bash

# This script configures an Nginx server to redirect a specific URL to another page with a "301 Moved Permanently" status code

# Update the system
sudo apt-get update

# Install Nginx if it is not already installed
sudo apt-get install nginx -y

# Create a new Nginx server block configuration file for the redirect
sudo tee /etc/nginx/sites-available/redirect > /dev/null <<EOF
server {
    listen 80;
    server_name jorshstar.tech;
    return 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;
}
EOF
# Replace "example.com" with your own domain name, and replace the URL with the one you want to redirect to

# Create a symbolic link from the new configuration file to the sites-enabled directory
sudo ln -s /etc/nginx/sites-available/redirect /etc/nginx/sites-enabled/

# Remove the default symbolic link from the sites-enabled directory
sudo rm /etc/nginx/sites-enabled/default

# Test the Nginx configuration for syntax errors
sudo nginx -t

# If there are no errors, reload the Nginx configuration to apply the changes
sudo service nginx reload
